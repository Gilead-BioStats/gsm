meta:
  File: mapping.yaml
  description: Data Mappings to prepare for metric calculations
steps:
  - name: RunQuery
    output: Mapped_ENROLL
    params:
      df: Raw_SUBJ
      strQuery: "SELECT subjectid as raw_subjectid, subjid, invid, country, timeonstudy, subject_nsv, studyid FROM df WHERE enrollyn == 'Y'"
  - name: RunQuery
    output: Mapped_AE
    params:
      df: Raw_AE
      strQuery: "SELECT subjid, aeser FROM df"
  - name: RunQuery
    output: Mapped_PD
    params:
      df: Raw_PD
      strQuery: "SELECT subjectenrollmentnumber as subjid, deemedimportant FROM df"
  - name: RunQuery
    output: Mapped_LB
    params:
      df: Raw_LB
      strQuery: "SELECT subjid, toxgrg_nsv FROM df"
  - name: RunQuery
    output: Mapped_STUDCOMP
    params:
      df: Raw_STUDCOMP
      strQuery: "SELECT subjid, compyn FROM df"
  - name: RunQuery
    output: Mapped_SDRGCOMP
    params:
      df: Raw_SDRGCOMP
      strQuery: "SELECT subjid, sdrgyn, phase FROM df"
  - name: RunQuery
    output: Mapped_QUERY
    params:
      df: Raw_QUERY
      strQuery: "SELECT subjectname as subject_nsv, querystatus, queryage FROM df"
  - name: RunQuery
    output: Mapped_DATACHG
    params:
      df: Raw_DATACHG
      strQuery: "SELECT subjectname as subject_nsv, n_changes FROM df"
  - name: RunQuery
    output: Mapped_DATAENT
    params:
      df: Raw_DATAENT
      strQuery: "SELECT subjectname as subject_nsv, data_entry_lag FROM df"
  - name: RunQuery
    output: Mapped_SCREEN
    params:
      df: Raw_ENROLL
      strQuery: "SELECT subjid, invid, country, enrollyn FROM df"
